# Nexus COS PF v2025.10.01 - Quick Start Guide for TRAE Solo

**Status:** LIVE | CERTIFIED | PF-SYNC READY  
**Version:** v2025.10.01  
**Target VPS:** 74.208.155.161 (nexuscos.online)  
**Issued:** 2025-10-01 23:22 PST  

---

## üöÄ One-Line Deployment

If you want to deploy everything with one command:

```bash
cd /opt/nexus-cos && git pull origin main && ./scripts/deploy_hybrid_fullstack_pf.sh
```

---

## üìã Step-by-Step Deployment (Recommended)

Follow these steps **line by line, step by step** as instructed:

### Step 1: Access VPS

```bash
ssh root@74.208.155.161
# Or use your configured SSH key
```

### Step 2: Navigate to Repository

```bash
cd /opt/nexus-cos
```

### Step 3: Pull Latest Code

```bash
git pull origin main
```

Expected output: "Already up to date" or files updated

### Step 4: Validate PF Configuration

```bash
./validate-pf-v2025.10.01.sh
```

Expected output: All checks should pass. If any fail, fix them before continuing.

### Step 5: Configure Environment Variables

```bash
# Copy example if .env.pf doesn't exist
cp .env.pf.example .env.pf

# Edit the file
nano .env.pf
```

**Required variables to configure:**

```bash
# Authentication
OAUTH_CLIENT_ID=your-oauth-client-id-here
OAUTH_CLIENT_SECRET=your-oauth-client-secret-here
JWT_SECRET=your-secure-jwt-secret-here

# Database
DB_PASSWORD=your-secure-db-password-here
DB_USER=nexus_user
DB_NAME=nexus_db

# Application
NODE_ENV=production
PORT=4000
```

**Save and exit:** Press `Ctrl+X`, then `Y`, then `Enter`

### Step 6: Verify SSL Certificates (Optional but Recommended)

```bash
# Check if SSL certificates exist
ls -la /opt/nexus-cos/ssl/

# You should see:
# nexus-cos.crt
# nexus-cos.key
```

If certificates don't exist, the deployment will still proceed but HTTPS won't work.

### Step 7: Run Deployment Script

```bash
./scripts/deploy_hybrid_fullstack_pf.sh
```

This script will:
- ‚úÖ Check system requirements (Docker, Docker Compose)
- ‚úÖ Validate repository and configuration
- ‚úÖ Set up SSL certificates
- ‚úÖ Build and start all Docker containers
- ‚úÖ Apply database migrations
- ‚úÖ Validate health endpoints
- ‚úÖ Configure Nginx (if needed)

**Expected duration:** 5-10 minutes depending on your VPS

### Step 8: Verify Deployment

```bash
# Check all service health endpoints
./check-pf-v2025-health.sh
```

Expected output: All services should report as healthy (‚úì)

### Step 9: Check Docker Services

```bash
docker compose -f docker-compose.pf.yml ps
```

Expected output: All services should show "Up" status

### Step 10: View Logs (Optional)

```bash
# View all logs
docker compose -f docker-compose.pf.yml logs -f

# View specific PUABO NEXUS service logs
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-ai-dispatch
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-driver-app-backend
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-fleet-manager
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-route-optimizer
```

Press `Ctrl+C` to exit log viewing

---

## ‚úÖ Verification Checklist

After deployment, verify these endpoints are accessible:

### Core Services
- [ ] https://nexuscos.online/api/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/health/gateway ‚Üí HTTP 200

### PUABO NEXUS Services (Ports 3231-3234)
- [ ] https://nexuscos.online/puabo-nexus/dispatch/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/puabo-nexus/driver/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/puabo-nexus/fleet/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/puabo-nexus/routes/health ‚Üí HTTP 200

### V-Suite Services
- [ ] https://nexuscos.online/v-suite/screen/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/v-suite/prompter/health ‚Üí HTTP 200

### Media & Entertainment
- [ ] https://nexuscos.online/nexus-studio/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/club-saditty/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/puabo-dsp/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/puabo-blac/health ‚Üí HTTP 200

### Auth & Payment
- [ ] https://nexuscos.online/auth/health ‚Üí HTTP 200
- [ ] https://nexuscos.online/payment/health ‚Üí HTTP 200

---

## üîß Quick Commands Reference

### Service Management

```bash
# Check status of all services
docker compose -f docker-compose.pf.yml ps

# Start all services
docker compose -f docker-compose.pf.yml up -d

# Stop all services
docker compose -f docker-compose.pf.yml down

# Restart all services
docker compose -f docker-compose.pf.yml restart

# Restart specific service
docker compose -f docker-compose.pf.yml restart <service-name>
```

### PUABO NEXUS Specific Commands

```bash
# View AI Dispatch logs
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-ai-dispatch

# View Driver App Backend logs
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-driver-app-backend

# View Fleet Manager logs
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-fleet-manager

# View Route Optimizer logs
docker compose -f docker-compose.pf.yml logs -f puabo-nexus-route-optimizer

# Restart all PUABO NEXUS services
docker compose -f docker-compose.pf.yml restart puabo-nexus-ai-dispatch puabo-nexus-driver-app-backend puabo-nexus-fleet-manager puabo-nexus-route-optimizer
```

### Database Management

```bash
# Connect to PostgreSQL
docker compose -f docker-compose.pf.yml exec nexus-cos-postgres \
  psql -U nexus_user -d nexus_db

# Check database connection
docker compose -f docker-compose.pf.yml exec nexus-cos-postgres \
  pg_isready -U nexus_user -d nexus_db

# View database logs
docker compose -f docker-compose.pf.yml logs nexus-cos-postgres
```

### Redis Management

```bash
# Test Redis connection
docker compose -f docker-compose.pf.yml exec nexus-cos-redis redis-cli ping

# Connect to Redis CLI
docker compose -f docker-compose.pf.yml exec nexus-cos-redis redis-cli

# View Redis logs
docker compose -f docker-compose.pf.yml logs nexus-cos-redis
```

### System Monitoring

```bash
# Check disk usage
df -h

# Check memory usage
free -h

# Check Docker disk usage
docker system df

# Clean up unused Docker resources (be careful!)
docker system prune -a --volumes
```

---

## üêõ Troubleshooting

### Service Won't Start

```bash
# Check service logs for errors
docker compose -f docker-compose.pf.yml logs <service-name>

# Check if port is already in use
netstat -tulpn | grep <port-number>

# Remove and recreate container
docker compose -f docker-compose.pf.yml rm -f <service-name>
docker compose -f docker-compose.pf.yml up -d <service-name>
```

### Database Connection Errors

```bash
# Restart PostgreSQL
docker compose -f docker-compose.pf.yml restart nexus-cos-postgres

# Wait for database to be ready
docker compose -f docker-compose.pf.yml exec nexus-cos-postgres \
  pg_isready -U nexus_user -d nexus_db

# Check database logs for errors
docker compose -f docker-compose.pf.yml logs nexus-cos-postgres
```

### Redis Connection Errors

```bash
# Restart Redis
docker compose -f docker-compose.pf.yml restart nexus-cos-redis

# Test connection
docker compose -f docker-compose.pf.yml exec nexus-cos-redis redis-cli ping
```

### Complete System Reset (Nuclear Option)

‚ö†Ô∏è **WARNING:** This will delete all data and start fresh!

```bash
# Stop all services
docker compose -f docker-compose.pf.yml down

# Remove all volumes (deletes data!)
docker compose -f docker-compose.pf.yml down -v

# Remove all images
docker compose -f docker-compose.pf.yml down --rmi all

# Start fresh
./scripts/deploy_hybrid_fullstack_pf.sh
```

---

## üìä PUABO NEXUS Service Details

### AI Dispatch (Port 3231)

**Function:** AI-powered dispatch engine for allocating rides and routes

**Health Endpoint:** `https://nexuscos.online/puabo-nexus/dispatch/health`

**Key Features:**
- Real-time route allocation
- AI-based load optimization
- Driver matching algorithms

### Driver App Backend (Port 3232)

**Function:** Backend for driver app: authentication, status updates, job assignments

**Health Endpoint:** `https://nexuscos.online/puabo-nexus/driver/health`

**Key Features:**
- Driver authentication via Nexus ID
- Real-time job notifications
- Status tracking and updates

### Fleet Manager (Port 3233)

**Function:** Manages fleet data, vehicle assignments, operational status

**Health Endpoint:** `https://nexuscos.online/puabo-nexus/fleet/health`

**Key Features:**
- Vehicle inventory management
- Maintenance scheduling
- Fleet analytics dashboard

### Route Optimizer (Port 3234)

**Function:** Optimizes routes for efficiency, reducing costs and travel time

**Health Endpoint:** `https://nexuscos.online/puabo-nexus/routes/health`

**Key Features:**
- ML-based route optimization
- Traffic pattern analysis
- Cost-per-mile reduction

---

## üìö Documentation Links

- **Full PF Documentation:** `PF_v2025.10.01.md`
- **Health Check Guide:** `PF_v2025.10.01_HEALTH_CHECKS.md`
- **YAML Configuration:** `nexus-cos-pf-v2025.10.01.yaml`
- **Docker Compose:** `docker-compose.pf.yml`

---

## üéØ Success Criteria

Deployment is successful when:

1. ‚úÖ All services show "Up" in `docker compose ps`
2. ‚úÖ All health endpoints return HTTP 200
3. ‚úÖ PostgreSQL is accessible and healthy
4. ‚úÖ Redis is responding to PING
5. ‚úÖ No ERROR level logs in service outputs
6. ‚úÖ PUABO NEXUS services (ports 3231-3234) are all operational

---

## üîí PF Lock Status

- **PF Version:** v2025.10.01
- **Status:** LIVE | CERTIFIED | PF-SYNC READY
- **Lock Date:** 2025-10-01 23:22 PST
- **Certified By:** Nexus Core + Code Agent + TRAE Solo
- **Auto-Sync:** Enabled

---

## üìû Support

If you encounter any issues:

1. Check the troubleshooting section above
2. Review service logs: `docker compose -f docker-compose.pf.yml logs -f`
3. Verify configuration: `./validate-pf-v2025.10.01.sh`
4. Run health checks: `./check-pf-v2025-health.sh`

---

**END OF QUICK START GUIDE**

*This is the official deployment guide for PF v2025.10.01. Follow these steps exactly for successful deployment.*
