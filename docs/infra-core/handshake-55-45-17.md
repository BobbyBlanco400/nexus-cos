# Nexus-Handshake 55-45-17 (Authoritative Compliance Spec)

## Constitutional Objective

To enforce **economic fairness, sovereignty, and compliance at the infrastructure layer**, not the application layer.

This is not a feature. This is **constitutional law** for digital infrastructure.

---

## Immutable Ratios

The Nexus-Handshake defines three fundamental constants:

### 55% → IMVU Creator / Operator
- **Ownership:** Creator owns their IMVU and all its outputs
- **Revenue:** Creator receives 55% of all revenue generated by their IMVU
- **Control:** Creator controls IMVU configuration within policy bounds
- **Data:** Creator owns all data generated within their IMVU

### 45% → Nexus COS Platform
- **Infrastructure:** Platform provides compute, DNS, mail, network
- **Enforcement:** Platform enforces the 17 gates automatically
- **Maintenance:** Platform maintains the substrate layer
- **Governance:** Platform cannot modify creator's 55% share

### 17 Mandatory Gates → Non-bypassable Enforcement Rules
- These are **executable checks**, not guidelines
- Every feature must pass all applicable gates
- No feature ships if it cannot enforce these rules
- Admins cannot bypass gates

---

## The 17 Gates (Enforced by Infrastructure)

### Identity & Access Control

#### 1. Identity Binding
- **Rule:** Every action must be bound to a verified identity
- **Enforcement:** No anonymous mutations of IMVU state
- **Implementation:** Cryptographic identity proofs at API layer
- **Test:** Attempt action without identity → BLOCKED

#### 2. IMVU Isolation (Compute/Network)
- **Rule:** IMVUs cannot access each other's compute or network resources
- **Enforcement:** Network policies, process isolation, resource quotas
- **Implementation:** Container/VM boundaries + network segmentation
- **Test:** IMVU-A attempts to read IMVU-B memory → BLOCKED

#### 3. Domain Ownership Clarity
- **Rule:** Every domain must be bound to exactly one IMVU
- **Enforcement:** Domain registry with ownership records
- **Implementation:** Authoritative DNS with ownership checks
- **Test:** IMVU-A attempts to claim IMVU-B domain → BLOCKED

#### 4. DNS Authority Scoping
- **Rule:** IMVUs can only modify DNS records they own
- **Enforcement:** Policy checks before DNS mutations
- **Implementation:** DNS API with ownership verification
- **Test:** IMVU modifies unowned zone → BLOCKED

### Communication & Attribution

#### 5. Mail Attribution
- **Rule:** Every email must be traceable to identity + IMVU
- **Enforcement:** DKIM signing with identity metadata
- **Implementation:** Mail fabric with identity binding
- **Test:** Anonymous email → REJECTED

#### 6. Revenue Metering
- **Rule:** All billable events must be recorded in ledger
- **Enforcement:** Metering hooks in compute, DNS, mail, network layers
- **Implementation:** Event stream to append-only ledger
- **Test:** Unmetered resource usage → IMPOSSIBLE (infrastructure enforced)

#### 7. Resource Quota Enforcement
- **Rule:** IMVUs cannot exceed allocated resource envelopes
- **Enforcement:** Hard limits at kernel/hypervisor level
- **Implementation:** cgroups, memory limits, CPU quotas, I/O limits
- **Test:** IMVU exceeds RAM quota → THROTTLED/KILLED

### Network & Traffic

#### 8. Network Path Governance
- **Rule:** Traffic routing must respect IMVU policy
- **Enforcement:** Policy-aware routing layer
- **Implementation:** Nexus-Net with path policies
- **Test:** Admin reroutes traffic silently → LOGGED & ALERTED

#### 9. Jurisdiction Tagging
- **Rule:** IMVUs must declare data jurisdiction
- **Enforcement:** Metadata on all IMVU resources
- **Implementation:** IMVU registry with jurisdiction field
- **Test:** Query IMVU-042 jurisdiction → `EU-GDPR` or `US-CCPA`, etc.

### Audit & Transparency

#### 10. Consent Logging
- **Rule:** User consent events must be logged immutably
- **Enforcement:** Append-only consent ledger
- **Implementation:** Consent events → ledger integration
- **Test:** Query user consent history → COMPLETE & IMMUTABLE

#### 11. Audit Logging
- **Rule:** All privileged actions must be logged
- **Enforcement:** Audit middleware on all admin APIs
- **Implementation:** Structured logging to immutable store
- **Test:** Admin action without log → IMPOSSIBLE

#### 12. Immutable Snapshots
- **Rule:** IMVU state must be snapshot-able
- **Enforcement:** Snapshot API at compute layer
- **Implementation:** VM/container snapshot + metadata
- **Test:** Create snapshot of IMVU-042 → SUCCESS with timestamp

### Portability & Exit

#### 13. Exit Portability
- **Rule:** IMVUs must be exportable with all data
- **Enforcement:** Export API with completeness guarantee
- **Implementation:** Export tool that packages domains, mail, data, config
- **Test:** Export IMVU-042 → complete archive with verification

#### 14. No Silent Redirection
- **Rule:** Platform cannot redirect IMVU traffic without policy approval
- **Enforcement:** Routing changes require policy check + audit log
- **Implementation:** Policy engine checks before route mutation
- **Test:** Platform redirects traffic → BLOCKED + LOGGED

#### 15. No Silent Throttling
- **Rule:** Platform cannot throttle IMVU resources without policy approval
- **Enforcement:** Resource allocation changes require policy check
- **Implementation:** Quota API with policy verification
- **Test:** Platform reduces IMVU quota → BLOCKED + LOGGED

### Non-Interference & Fairness

#### 16. No Cross-IMVU Leakage
- **Rule:** IMVUs cannot leak data, resources, or state to each other
- **Enforcement:** Hard isolation at compute, network, storage layers
- **Implementation:** Namespace isolation + network policies
- **Test:** IMVU-A reads IMVU-B file → PERMISSION DENIED

#### 17. Platform Non-Repudiation
- **Rule:** Platform cannot deny actions it performed
- **Enforcement:** All platform actions are signed and logged
- **Implementation:** Cryptographic signing of platform operations
- **Test:** Query platform action log → COMPLETE & SIGNED

---

## Revenue Calculation Formula

### Automatic 55-45 Split

```
For each IMVU in billing period:
  
  compute_cost = SUM(cpu_usage + memory_usage + io_usage)
  dns_cost = SUM(query_count × query_price)
  mail_cost = SUM(message_count × message_price + storage_gb × storage_price)
  network_cost = SUM(bandwidth_gb × bandwidth_price)
  
  total_cost = compute_cost + dns_cost + mail_cost + network_cost
  
  creator_share = total_cost × 0.55
  platform_share = total_cost × 0.45
  
  ASSERT(creator_share + platform_share == total_cost)
```

**Key Rule:** If a feature cannot enforce these gates technically, it does not ship.

---

*Document Version: 1.0*  
*Status: Authoritative*  
*Last Updated: 2025-12-21*
