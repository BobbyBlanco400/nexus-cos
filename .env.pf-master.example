# ===============================
# NΞ3XUS·COS PF-MASTER v3.0
# Environment Configuration
# ===============================

# ======== Database Configuration ========
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=nexus_cos
POSTGRES_USER=nexus
POSTGRES_PASSWORD=changeme_secure_password_here

# Database URL (auto-generated, or override)
DATABASE_URL=postgresql://nexus:changeme_secure_password_here@postgres:5432/nexus_cos

# ======== Redis Configuration ========
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme_secure_password_here

# Redis URL (auto-generated, or override)
REDIS_URL=redis://:changeme_secure_password_here@redis:6379

# ======== Authentication ========
JWT_SECRET=changeme_random_jwt_secret_minimum_32_characters
JWT_EXPIRATION=7d
SESSION_SECRET=changeme_session_secret

# OAuth Providers (optional)
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# ======== Platform Configuration ========
NODE_ENV=production
PLATFORM_NAME=NΞ3XUS·COS
PLATFORM_URL=https://n3xuscos.online
PLATFORM_VERSION=3.0

# ======== Economic Settings ========
PLATFORM_FEE_PERCENTAGE=20
AUDIT_MODE=immutable
TENANT_ISOLATION=true

# ======== Cost Governance ========
COST_GOVERNANCE_ENABLED=true
BILLING_MODE=realtime
THROTTLING_ENABLED=true

# Tenant Limits
TENANT_CPU_MAX=4000m
TENANT_MEMORY_MAX=8Gi
TENANT_STORAGE_MAX=100Gi
TENANT_STREAMS_MAX=5
TENANT_BANDWIDTH_MAX=1TB

# ======== Service URLs (Internal) ========
BACKEND_API_URL=http://backend-api:3000
AUTH_SERVICE_URL=http://auth-service:3001
LEDGER_MGR_URL=http://ledger-mgr:4000
STREAMCORE_URL=http://streamcore:3100
STREAMING_SERVICE_URL=http://streaming-service-v2:6000

# ======== External Services ========
# Payment Gateway
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# Email Service
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@n3xuscos.online

# CDN & Storage
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_MEDIA=nexus-cos-media
S3_BUCKET_BACKUPS=nexus-cos-backups

# ======== Monitoring & Logging ========
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# Prometheus (optional)
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# ======== Kubernetes Configuration ========
# (Used when deploying to Kubernetes)
K8S_NAMESPACE=nexus-core
K8S_CLUSTER_NAME=nexus-cos-production
K8S_INGRESS_CLASS=nginx

# ======== Feature Flags ========
AUTOSCALING_ENABLED=true
SOC2_COMPLIANCE_ENABLED=true
AI_FEATURES_ENABLED=true
BLOCKCHAIN_ENABLED=false

# ======== Security ========
ENCRYPTION_KEY=changeme_32_character_encryption_key
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_WINDOW_MS=60000

# CORS
CORS_ORIGIN=https://n3xuscos.online,https://beta.n3xuscos.online
CORS_CREDENTIALS=true

# ======== Development/Debug ========
# Set to 'true' only in development
DEBUG=false
VERBOSE_LOGGING=false
MOCK_EXTERNAL_SERVICES=false

# ======== Deployment Configuration ========
DEPLOYMENT_MODE=docker
# Options: docker, kubernetes, helm

# Docker Compose
COMPOSE_PROJECT_NAME=nexus-cos
COMPOSE_FILE=docker-compose.pf-master.yml

# Terraform
TF_VAR_aws_region=us-east-1
TF_VAR_cluster_name=nexus-cos-production
TF_VAR_environment=production
